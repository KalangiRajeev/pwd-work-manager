<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button icon="chevron-back" defaultHref="/main/pwd-offices"></ion-back-button>
    </ion-buttons>
    <ion-title>{{this.existingUser ? this.existingUser.name : 'Associate to Office'}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">{{this.existingUser ? this.existingUser.name : 'Associate to Office'}}</ion-title>
    </ion-toolbar>
  </ion-header>


  <div class="form-pwd-offices">
    <form [formGroup]="officeFormGroup">
      <mat-form-field class="example-full-width">
        <mat-label>Associate to Office</mat-label>
        <input matInput type="text" placeholder="Pick one" aria-label="associatedOffice" [formControl]="subOffices"
          [matAutocomplete]="autoAssoOffice">
        <mat-autocomplete #autoAssoOffice="matAutocomplete" [displayWith]="displayFn"
          (optionSelected)='getSelectedValue($event.option.value)'>
          <mat-option *ngFor="let option of allOffices$ | async" [value]="option">{{option.name}}</mat-option>
        </mat-autocomplete>
      </mat-form-field>
    </form>

    <div class="ion-buttons">
      <ion-buttons slot="secondary">
        <ion-button fill="outline" routerLink="/main/users-list" routerDirection="back"> Cancel </ion-button>
      </ion-buttons>
      <ion-buttons slot="primary">
        <ion-button fill="solid" type="submit" (click)="updateUser()"> Save Details </ion-button>
      </ion-buttons>
    </div>
  </div>

</ion-content>